"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["97247"],{864146:function(e,t,n){n.r(t),n.d(t,{metadata:()=>r,contentTitle:()=>c,default:()=>x,assets:()=>l,toc:()=>d,frontMatter:()=>s});var r=JSON.parse('{"id":"\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027/\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587","title":"\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587","description":"glog \u652F\u6301\u6807\u51C6\u5E93 context.Context \u63A5\u53E3\u5BF9\u8C61\u4E2D\u4E0A\u4E0B\u6587\u53D8\u91CF\u7684\u81EA\u52A8\u8BFB\u53D6\u6253\u5370\u3002","source":"@site/versioned_docs/version-1.16.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027/\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587.md","sourceDirName":"\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027","slug":"/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027/\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587","permalink":"/en/1.16.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027/\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-1.16.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027/\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587.md","tags":[],"version":"1.16.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":7,"frontMatter":{"title":"\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587","sidebar_position":7,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"\u65E5\u5FD7\u7EC4\u4EF6-Writer\u63A5\u53E3","permalink":"/en/1.16.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u9AD8\u7EA7\u7279\u6027/\u65E5\u5FD7\u7EC4\u4EF6-Writer\u63A5\u53E3"},"next":{"title":"\u7C7B\u578B\u8F6C\u6362","permalink":"/en/1.16.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u7C7B\u578B\u8F6C\u6362/"}}'),o=n("785893"),i=n("250065");let s={title:"\u65E5\u5FD7\u7EC4\u4EF6-Context\u4E0A\u4E0B\u6587",sidebar_position:7,hide_title:!0},c=void 0,l={},d=[{value:"\u952E\u540D\u914D\u7F6E",id:"\u952E\u540D\u914D\u7F6E",level:2},{value:"\u65E5\u5FD7\u8F93\u51FA",id:"\u65E5\u5FD7\u8F93\u51FA",level:2},{value:"\u94FE\u8DEF\u8DDF\u8E2A",id:"\u94FE\u8DEF\u8DDF\u8E2A",level:2}];function a(e){let t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"glog"})," \u652F\u6301\u6807\u51C6\u5E93 ",(0,o.jsx)(t.code,{children:"context.Context"})," \u63A5\u53E3\u5BF9\u8C61\u4E2D\u4E0A\u4E0B\u6587\u53D8\u91CF\u7684\u81EA\u52A8\u8BFB\u53D6\u6253\u5370\u3002"]}),"\n",(0,o.jsx)(t.h2,{id:"\u952E\u540D\u914D\u7F6E",children:"\u952E\u540D\u914D\u7F6E"}),"\n",(0,o.jsx)(t.p,{children:"\u6211\u4EEC\u63A8\u8350\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\u6765\u5BF9\u4E0A\u4E0B\u6587\u4E2D\u7684\u952E\u540D\u8FDB\u884C\u914D\u7F6E\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-toml",children:'# \u65E5\u5FD7\u7EC4\u4EF6\u914D\u7F6E\n[logger]\n    Path    = "/var/log/my-app"\n    Level   = "all"\n    Stdout  = false\n    CtxKeys = ["Trace-Id"]\n\n'})}),"\n",(0,o.jsxs)(t.p,{children:["\u5176\u4E2D ",(0,o.jsx)(t.code,{children:"CtxKeys"})," \u7528\u4E8E\u914D\u7F6E\u9700\u8981\u4ECE ",(0,o.jsx)(t.code,{children:"context.Context"})," \u63A5\u53E3\u5BF9\u8C61\u4E2D\u8BFB\u53D6\u5E76\u8F93\u51FA\u7684\u952E\u540D\u3002"]}),"\n",(0,o.jsx)(t.h2,{id:"\u65E5\u5FD7\u8F93\u51FA",children:"\u65E5\u5FD7\u8F93\u51FA"}),"\n",(0,o.jsxs)(t.p,{children:["\u5728\u8F93\u51FA\u65E5\u5FD7\u7684\u65F6\u5019\uFF0C\u9700\u8981\u901A\u8FC7 ",(0,o.jsx)(t.code,{children:"Ctx"})," \u94FE\u5F0F\u64CD\u4F5C\u65B9\u6CD5\u6307\u5B9A\u8F93\u51FA\u7684 ",(0,o.jsx)(t.code,{children:"context.Context"})," \u63A5\u53E3\u5BF9\u8C61\uFF0C\u4F8B\u5982\uFF1A"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'ctx := context.WithValue(context.Background(), "Trace-Id", "123456789")\ng.Log().Ctx(ctx).Error("runtime error")\n\n// May Output:\n// 2020-06-08 20:17:03.630 [ERRO] {Trace-Id: 123456789} runtime error\n// Stack:\n// ...\n\n'})}),"\n",(0,o.jsx)(t.h2,{id:"\u94FE\u8DEF\u8DDF\u8E2A",children:"\u94FE\u8DEF\u8DDF\u8E2A"}),"\n",(0,o.jsxs)(t.p,{children:["\u4ECE ",(0,o.jsx)(t.code,{children:"goframe v1.15"})," \u7248\u672C\u5F00\u59CB\uFF0C\u65E5\u5FD7\u7EC4\u4EF6\u589E\u52A0\u4E86\u5BF9 ",(0,o.jsx)(t.code,{children:"OpenTelemetry"})," \u89C4\u8303\u7684\u94FE\u8DEF\u8DDF\u8E2A\u652F\u6301\uFF0C\u8BE5\u652F\u6301\u662F\u6807\u51C6\u5316\u5F62\u5F0F\u7684\uFF0C\u65E0\u9700\u5F00\u53D1\u8005\u505A\u4EFB\u4F55\u8BBE\u7F6E\uFF0C\u5177\u4F53\u8BF7\u53C2\u8003\u7AE0\u8282\uFF1A ",(0,o.jsx)(t.a,{href:"/en/1.16.x/%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6-%E9%87%8D%E7%82%B9/%E9%93%BE%E8%B7%AF%E8%B7%9F%E8%B8%AA/",children:"\u94FE\u8DEF\u8DDF\u8E2A"})]})]})}function x(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return c},a:function(){return s}});var r=n(667294);let o={},i=r.createContext(o);function s(e){let t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);